"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.solicitacoesRouter = void 0;
const express_1 = require("express");
const solicitacoes_controller_1 = require("../controllers/solicitacoes-controller");
const solicitacoes_service_1 = require("../services/solicitacoes-service");
const prisma_1 = require("../config/prisma");
const multerConfig_1 = require("../config/multerConfig");
const solicitacoesController = new solicitacoes_controller_1.SolicitacoesController(new solicitacoes_service_1.SolicitacoesService(prisma_1.prisma));
exports.solicitacoesRouter = (0, express_1.Router)();
const getAllHandler = (req, res) => { solicitacoesController.getAllSolicitacoes(req, res); };
const createHandler = (req, res) => { solicitacoesController.createSolicitacao(req, res); };
const updateHandler = (req, res) => { solicitacoesController.updateSolicitacao(req, res); };
const getByIdHandler = (req, res) => { solicitacoesController.getSolicitacaoById(req, res); };
const deleteHandler = (req, res) => { solicitacoesController.deleteSolicitacao(req, res); };
exports.solicitacoesRouter.get("/all", getAllHandler);
exports.solicitacoesRouter.post("/create", createHandler);
exports.solicitacoesRouter.put("/update/:id", updateHandler);
exports.solicitacoesRouter.get("/:id", getByIdHandler);
exports.solicitacoesRouter.delete("/delete/:id", deleteHandler);
exports.solicitacoesRouter.post("/import/csv", multerConfig_1.upload.single('file'), ((req, res) => { solicitacoesController.importFromCsvBackup(req, res); }));
